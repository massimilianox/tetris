!function(g){function I(A){if(C[A])return C[A].exports;var n=C[A]={i:A,l:!1,exports:{}};return g[A].call(n.exports,n,n.exports,I),n.l=!0,n.exports}var C={};I.m=g,I.c=C,I.d=function(g,C,A){I.o(g,C)||Object.defineProperty(g,C,{configurable:!1,enumerable:!0,get:A})},I.n=function(g){var C=g&&g.__esModule?function(){return g.default}:function(){return g};return I.d(C,"a",C),C},I.o=function(g,I){return Object.prototype.hasOwnProperty.call(g,I)},I.p="",I(I.s=0)}([/*!***************************!*\
  !*** ./ES6/initModule.js ***!
  \***************************/
/*! dynamic exports provided */
/*! all exports used */
function(module,exports,__webpack_require__){"use strict";eval("\n\nvar _DataModel = __webpack_require__(/*! ./DataModel.js */ 1);\n\nvar _UpdateBoard = __webpack_require__(/*! ./UpdateBoard.js */ 2);\n\nvar _Piece = __webpack_require__(/*! ./Piece.js */ 3);\n\nvar _ControlPiece = __webpack_require__(/*! ./ControlPiece.js */ 4);\n\nvar _Game = __webpack_require__(/*! ./Game.js */ 5);\n\n(function () {\n    var dataModel = new _DataModel.DataModel();\n    var updateBoard = new _UpdateBoard.UpdateBoard(dataModel);\n    var piece = new _Piece.Piece(updateBoard);\n    var controlPiece = new _ControlPiece.ControlPiece(piece);\n    var game = new _Game.Game(controlPiece);\n})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9FUzYvaW5pdE1vZHVsZS5qcz8wMzQ2Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IERhdGFNb2RlbCB9IGZyb20gJy4vRGF0YU1vZGVsLmpzJztcbmltcG9ydCB7IFVwZGF0ZUJvYXJkIH0gZnJvbSAnLi9VcGRhdGVCb2FyZC5qcyc7XG5pbXBvcnQgeyBQaWVjZSB9IGZyb20gJy4vUGllY2UuanMnO1xuaW1wb3J0IHsgQ29udHJvbFBpZWNlIH0gZnJvbSAnLi9Db250cm9sUGllY2UuanMnO1xuaW1wb3J0IHsgR2FtZSB9IGZyb20gJy4vR2FtZS5qcyc7XG5cbihmdW5jdGlvbigpIHtcbiAgICBjb25zdCBkYXRhTW9kZWwgPSBuZXcgRGF0YU1vZGVsKCk7XG4gICAgY29uc3QgdXBkYXRlQm9hcmQgPSBuZXcgVXBkYXRlQm9hcmQoZGF0YU1vZGVsKTtcbiAgICBjb25zdCBwaWVjZSA9IG5ldyBQaWVjZSh1cGRhdGVCb2FyZCk7XG4gICAgY29uc3QgY29udHJvbFBpZWNlID0gbmV3IENvbnRyb2xQaWVjZShwaWVjZSk7XG4gICAgY29uc3QgZ2FtZSA9IG5ldyBHYW1lKGNvbnRyb2xQaWVjZSk7XG59KSgpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBFUzYvaW5pdE1vZHVsZS5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n")},/*!**************************!*\
  !*** ./ES6/DataModel.js ***!
  \**************************/
/*! dynamic exports provided */
/*! all exports used */
function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DataModel = exports.DataModel = function DataModel() {\n    _classCallCheck(this, DataModel);\n\n    this.points = 0;\n    this.gameOver = false;\n    this.activeButton = true;\n    this.blocksz = 26;\n    this.canvasLines = 20;\n    this.canvasColumns = 10;\n    this.fhz = 1;\n    this.shz = 50;\n    this.defBg = '#000';\n    this.colorI = 'pink';\n    this.colorJ = 'violet';\n    this.colorL = 'green';\n    this.colorO = 'orange';\n    this.colorS = 'red';\n    this.colorT = 'purple';\n    this.colorZ = 'yellow';\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9FUzYvRGF0YU1vZGVsLmpzP2E2ZGUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuZXhwb3J0IGNsYXNzIERhdGFNb2RlbCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucG9pbnRzID0gMDtcbiAgICAgICAgdGhpcy5nYW1lT3ZlciA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFjdGl2ZUJ1dHRvbiA9IHRydWU7XG4gICAgICAgIHRoaXMuYmxvY2tzeiA9IDI2O1xuICAgICAgICB0aGlzLmNhbnZhc0xpbmVzID0gMjA7XG4gICAgICAgIHRoaXMuY2FudmFzQ29sdW1ucyA9IDEwO1xuICAgICAgICB0aGlzLmZoeiA9IDE7XG4gICAgICAgIHRoaXMuc2h6ID0gNTA7XG4gICAgICAgIHRoaXMuZGVmQmcgPSAnIzAwMCc7XG4gICAgICAgIHRoaXMuY29sb3JJID0gJ3BpbmsnO1xuICAgICAgICB0aGlzLmNvbG9ySiA9ICd2aW9sZXQnO1xuICAgICAgICB0aGlzLmNvbG9yTCA9ICdncmVlbic7XG4gICAgICAgIHRoaXMuY29sb3JPID0gJ29yYW5nZSc7XG4gICAgICAgIHRoaXMuY29sb3JTID0gJ3JlZCc7XG4gICAgICAgIHRoaXMuY29sb3JUID0gJ3B1cnBsZSc7XG4gICAgICAgIHRoaXMuY29sb3JaID0gJ3llbGxvdyc7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIEVTNi9EYXRhTW9kZWwuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n")},/*!****************************!*\
  !*** ./ES6/UpdateBoard.js ***!
  \****************************/
/*! dynamic exports provided */
/*! all exports used */
function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar UpdateBoard = exports.UpdateBoard = function () {\n    var canvas = document.querySelector('canvas');\n    var ctx = canvas.getContext('2d');\n    var txtLines = document.querySelector('#lines');\n    return function () {\n        function _class(dataModel) {\n            _classCallCheck(this, _class);\n\n            this.dm = dataModel;\n            this.board = [];\n            this.initBoard();\n        }\n\n        _createClass(_class, [{\n            key: 'initBoard',\n            value: function initBoard() {\n                canvas.width = this.dm.blocksz * this.dm.canvasColumns;\n                canvas.height = this.dm.blocksz * this.dm.canvasLines;\n                for (var y = 0; y < this.dm.canvasLines; y++) {\n                    this.board[y] = [];\n                    for (var x = 0; x < this.dm.canvasColumns; x++) {\n                        this.board[y][x] = this.dm.defBg;\n                    }\n                }\n                //this.nl = 0;\n                txtLines.textContent = 'Lines: 0';\n                this.drawCanvas();\n            }\n        }, {\n            key: 'drawSquare',\n            value: function drawSquare(x, y, color) {\n                ctx.fillStyle = color;\n                ctx.fillRect(x * this.dm.blocksz, y * this.dm.blocksz, this.dm.blocksz, this.dm.blocksz);\n                ctx.strokeStyle = 'cadetblue';\n                ctx.lineWidth = 0.4;\n                ctx.strokeRect(x * this.dm.blocksz, y * this.dm.blocksz, this.dm.blocksz, this.dm.blocksz);\n            }\n        }, {\n            key: 'drawCanvas',\n            value: function drawCanvas() {\n                for (var y = 0; y < this.dm.canvasLines; y++) {\n                    for (var x = 0; x < this.dm.canvasColumns; x++) {\n                        this.drawSquare(x, y, this.board[y][x]);\n                    }\n                }\n            }\n        }, {\n            key: 'drawBoard',\n            value: function drawBoard(dx, dy, color, shape) {\n                for (var y = 0; y < shape.length; y++) {\n                    for (var x = 0; x < shape[y].length; x++) {\n                        if (shape[y][x] && this.board[dy + y] && this.board[dy + y][dx + x]) {\n                            this.board[dy + y][dx + x] = color;\n                        }\n                    }\n                }\n            }\n        }, {\n            key: 'countLines',\n            value: function countLines() {\n                for (var y = this.board.length - 1; y >= 0; y--) {\n                    if (!this.board[y].includes(this.dm.defBg)) {\n                        txtLines.textContent = 'Lines: ' + ++this.dm.points;\n                        for (var l = y; l >= 0; l--) {\n                            for (var x = 0; x < this.board[l].length; x++) {\n                                this.board[l][x] = l === 0 ? this.dm.defBg : this.board[l - 1][x];\n                            }\n                        }\n\n                        this.drawCanvas();\n\n                        if (y > 0) {\n                            this.countLines();\n                        }\n                    }\n                }\n            }\n        }]);\n\n        return _class;\n    }();\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9FUzYvVXBkYXRlQm9hcmQuanM/MjJiMSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5leHBvcnQgY29uc3QgVXBkYXRlQm9hcmQgPSAoZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignY2FudmFzJyk7XG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgY29uc3QgdHh0TGluZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGluZXMnKTtcbiAgICByZXR1cm4gY2xhc3Mge1xuICAgICAgICBjb25zdHJ1Y3RvcihkYXRhTW9kZWwpIHtcbiAgICAgICAgICAgIHRoaXMuZG0gPSBkYXRhTW9kZWw7XG4gICAgICAgICAgICB0aGlzLmJvYXJkID0gW107XG4gICAgICAgICAgICB0aGlzLmluaXRCb2FyZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5pdEJvYXJkKCkge1xuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gdGhpcy5kbS5ibG9ja3N6KnRoaXMuZG0uY2FudmFzQ29sdW1ucztcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSB0aGlzLmRtLmJsb2Nrc3oqdGhpcy5kbS5jYW52YXNMaW5lcztcbiAgICAgICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy5kbS5jYW52YXNMaW5lczsgeSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ib2FyZFt5XSA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgdGhpcy5kbS5jYW52YXNDb2x1bW5zOyB4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ib2FyZFt5XVt4XSA9IHRoaXMuZG0uZGVmQmc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy90aGlzLm5sID0gMDtcbiAgICAgICAgICAgIHR4dExpbmVzLnRleHRDb250ZW50ID0gJ0xpbmVzOiAwJztcbiAgICAgICAgICAgIHRoaXMuZHJhd0NhbnZhcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgZHJhd1NxdWFyZSh4LCB5LCBjb2xvcikge1xuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHggKiB0aGlzLmRtLmJsb2Nrc3osIHkgKiB0aGlzLmRtLmJsb2Nrc3osIHRoaXMuZG0uYmxvY2tzeiwgdGhpcy5kbS5ibG9ja3N6KTtcbiAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICdjYWRldGJsdWUnO1xuICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDAuNDtcbiAgICAgICAgICAgIGN0eC5zdHJva2VSZWN0KHggKiB0aGlzLmRtLmJsb2Nrc3osIHkgKiB0aGlzLmRtLmJsb2Nrc3osIHRoaXMuZG0uYmxvY2tzeiwgdGhpcy5kbS5ibG9ja3N6KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRyYXdDYW52YXMoKSB7XG4gICAgICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMuZG0uY2FudmFzTGluZXM7IHkrKykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHggPTA7IHggPCB0aGlzLmRtLmNhbnZhc0NvbHVtbnM7IHgrKykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdTcXVhcmUoeCx5LHRoaXMuYm9hcmRbeV1beF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRyYXdCb2FyZChkeCwgZHksIGNvbG9yLCBzaGFwZSkge1xuICAgICAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCBzaGFwZS5sZW5ndGg7IHkrKykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgc2hhcGVbeV0ubGVuZ3RoOyB4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNoYXBlW3ldW3hdICYmIHRoaXMuYm9hcmRbZHkreV0gJiYgdGhpcy5ib2FyZFtkeSt5XVtkeCt4XSkge1xuICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJvYXJkW2R5K3ldW2R4K3hdID0gY29sb3I7IFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY291bnRMaW5lcygpIHtcbiAgICAgICAgICAgIGZvciAobGV0IHkgPSB0aGlzLmJvYXJkLmxlbmd0aC0xOyB5ID49IDAgOyB5LS0pIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuYm9hcmRbeV0uaW5jbHVkZXModGhpcy5kbS5kZWZCZykpIHtcbiAgICAgICAgICAgICAgICAgICAgdHh0TGluZXMudGV4dENvbnRlbnQgPSBgTGluZXM6ICR7Kyt0aGlzLmRtLnBvaW50c31gO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBsID0geTsgbCA+PSAwOyBsLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgdGhpcy5ib2FyZFtsXS5sZW5ndGg7IHgrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYm9hcmRbbF1beF0gPSBsID09PSAwID8gdGhpcy5kbS5kZWZCZyA6IHRoaXMuYm9hcmRbbC0xXVt4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0NhbnZhcygpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh5ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb3VudExpbmVzKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBcbn0pKCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gRVM2L1VwZGF0ZUJvYXJkLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBQUE7QUFBQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW5CQTtBQUFBO0FBQUE7QUFzQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBM0JBO0FBQUE7QUFBQTtBQThCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFuQ0E7QUFBQTtBQUFBO0FBc0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE3Q0E7QUFBQTtBQUFBO0FBZ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFoRUE7QUFDQTtBQURBO0FBQUE7QUFrRUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2\n")},/*!**********************!*\
  !*** ./ES6/Piece.js ***!
  \**********************/
/*! dynamic exports provided */
/*! all exports used */
function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Piece = exports.Piece = function () {\n    var nextPiece = false;\n    var nextShape = document.querySelector('#next-piece');\n    var pieces = [];\n\n    var Shape = function () {\n        function Shape() {\n            _classCallCheck(this, Shape);\n        }\n\n        _createClass(Shape, null, [{\n            key: 'I',\n            value: function I() {\n                return [[[0, 1], [0, 1], [0, 1], [0, 1]], [[0, 0, 0, 0], [1, 1, 1, 1]]];\n            }\n        }, {\n            key: 'J',\n            value: function J() {\n                return [[[0, 1], [0, 1], [1, 1]], [[1, 0, 0], [1, 1, 1]], [[0, 1, 1], [0, 1, 0], [0, 1, 0]], [[1, 1, 1], [0, 0, 1]]];\n            }\n        }, {\n            key: 'L',\n            value: function L() {\n                return [[[1, 0], [1, 0], [1, 1]], [[1, 1, 1], [1, 0, 0]], [[0, 1, 1], [0, 0, 1], [0, 0, 1]], [[0, 0, 1], [1, 1, 1]]];\n            }\n        }, {\n            key: 'O',\n            value: function O() {\n                return [[[1, 1], [1, 1]]];\n            }\n        }, {\n            key: 'S',\n            value: function S() {\n                return [[[0, 1, 1], [1, 1, 0]], [[0, 1, 0], [0, 1, 1], [0, 0, 1]], [[0, 0, 0], [0, 1, 1], [1, 1, 0]], [[1, 0], [1, 1], [0, 1]]];\n            }\n        }, {\n            key: 'T',\n            value: function T() {\n                return [[[1, 1, 1], [0, 1, 0]], [[0, 0, 1], [0, 1, 1], [0, 0, 1]], [[0, 0, 0], [0, 1, 0], [1, 1, 1]], [[1, 0], [1, 1], [1, 0]]];\n            }\n        }, {\n            key: 'Z',\n            value: function Z() {\n                return [[[1, 1, 0], [0, 1, 1]], [[0, 0, 1], [0, 1, 1], [0, 1, 0]], [[0, 0, 0], [1, 1, 0], [0, 1, 1]], [[0, 1], [1, 1], [1, 0]]];\n            }\n        }]);\n\n        return Shape;\n    }();\n\n    return function () {\n        function Piece(updateBoard) {\n            _classCallCheck(this, Piece);\n\n            this.ub = updateBoard;\n            this.bs = document.querySelector('#start-game');\n            pieces = [{ simb: 'I', shape: Shape.I(), color: this.ub.dm.colorI }, { simb: 'J', shape: Shape.J(), color: this.ub.dm.colorJ }, { simb: 'L', shape: Shape.L(), color: this.ub.dm.colorL }, { simb: 'O', shape: Shape.O(), color: this.ub.dm.colorO }, { simb: 'S', shape: Shape.S(), color: this.ub.dm.colorS }, { simb: 'T', shape: Shape.T(), color: this.ub.dm.colorT }, { simb: 'Z', shape: Shape.Z(), color: this.ub.dm.colorZ }];\n        }\n\n        _createClass(Piece, [{\n            key: 'initPiece',\n            value: function initPiece() {\n                this.currentPiece = nextPiece ? nextPiece : pieces[Math.round(Math.random() * (pieces.length - 1))];\n                nextPiece = pieces[Math.round(Math.random() * (pieces.length - 1))];\n                this.shape = this.currentPiece.shape[0];\n                this.x = Math.ceil((this.ub.dm.canvasColumns - this.shape[0].length) / 2);\n                this.y = -this.shape.length;\n                this.color = this.currentPiece.color;\n                this.rotation = 0;\n                nextShape.src = 'img/' + nextPiece.simb + '.png';\n            }\n        }, {\n            key: 'drawPiece',\n            value: function drawPiece() {\n                for (var dy = 0; dy < this.shape.length; dy++) {\n                    for (var dx = 0; dx < this.shape[dy].length; dx++) {\n                        if (this.shape[dy][dx]) {\n                            this.ub.drawSquare(this.x + dx, this.y + dy, this.color);\n                        }\n                    }\n                }\n            }\n        }, {\n            key: 'collisionWallRight',\n            value: function collisionWallRight() {\n                for (var y = 0; y < this.shape.length; y++) {\n                    for (var x = 0; x < this.shape[y].length; x++) {\n                        if (this.shape[y][x] && (this.x + x >= this.ub.dm.canvasColumns - 1 || this.ub.board[this.y + y] && this.ub.board[this.y + y][this.x + x + 1] !== this.ub.dm.defBg)) {\n                            return true;\n                        }\n                    }\n                }\n                return false;\n            }\n        }, {\n            key: 'collisionWallLeft',\n            value: function collisionWallLeft() {\n                for (var y = 0; y < this.shape.length; y++) {\n                    for (var x = 0; x < this.shape[y].length; x++) {\n                        if (this.shape[y][x] && (this.x + x <= 0 || this.ub.board[this.y + y] && this.ub.board[this.y + y][this.x + x - 1] !== this.ub.dm.defBg)) {\n                            return true;\n                        }\n                    }\n                }\n                return false;\n            }\n        }, {\n            key: 'collisionBlock',\n            value: function collisionBlock() {\n                var _this = this;\n\n                for (var y = 0; y < this.shape.length; y++) {\n                    for (var x = 0; x < this.shape[y].length; x++) {\n\n                        if (!this.shape[y][x]) continue;\n\n                        if (this.ub.board[this.y + y + 1] && this.ub.board[this.y + y + 1][this.x + x] !== this.ub.dm.defBg || this.y + y + 1 >= this.ub.dm.canvasLines) {\n                            if (this.y < 0) {\n                                (function () {\n                                    _this.ub.dm.gameOver = true;\n                                    var self = _this;\n                                    var button = _this.bs;\n                                    var socket = io.connect('http://localhost:1818');\n                                    socket.on('lower-point', function (data) {\n                                        if (self.ub.dm.points >= data) {\n                                            var xhr = new XMLHttpRequest();\n                                            var formData = 'nl=' + self.ub.dm.points;\n                                            xhr.open('post', '/allow-sign');\n                                            xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n\n                                            xhr.onreadystatechange = function () {\n                                                if (xhr.status === 200) {\n                                                    setTimeout(function () {\n                                                        window.location.href = '/submit-name';\n                                                    }, 2000);\n                                                } else {\n                                                    console.log('error allow sign');\n                                                }\n                                            };\n\n                                            xhr.send(formData);\n                                            self.ub.dm.activeButton = false;\n                                            button.innerHTML = 'YOU ARE IN THE TOP TEN!<br>wait a sec to insert your name';\n                                            socket.disconnect();\n                                        } else {\n                                            self.ub.dm.activeButton = true;\n                                            button.innerHTML = 'you have done ' + self.ub.dm.points + ' lines <br> Click to play again';\n                                        }\n                                        button.style.fontSize = '15px';\n                                        button.style.paddingTop = '48px';\n                                        button.style.height = '82px';\n                                        button.style.display = 'block';\n                                    });\n                                    socket.emit('ask-lower-point');\n                                })();\n                            }\n\n                            this.ub.drawBoard(this.x, this.y, this.color, this.shape);\n                            this.ub.countLines();\n                            this.initPiece();\n                            return true;\n                        }\n                    }\n                }\n                return false;\n            }\n        }, {\n            key: 'canRotate',\n            value: function canRotate() {\n                var r = this.rotation < this.currentPiece.shape.length - 1 ? this.rotation + 1 : 0;\n                var np = this.currentPiece.shape[r];\n                for (var y = 0; y < this.shape.length; y++) {\n                    for (var x = 0; x < this.shape[y].length; x++) {\n                        var line = this.ub.board[this.y + y];\n                        var holes = [];\n                        var hole = [];\n                        for (var z in line) {\n                            if (line[z].toString() === this.ub.dm.defBg) {\n                                hole.push(Number(++z));\n                                if (z === line.length) {\n                                    holes.push(hole);\n                                    hole = [];\n                                }\n                            } else {\n                                if (hole.length > 0) {\n                                    holes.push(hole);\n                                }\n                                hole = [];\n                            }\n                        }\n                        for (var _hole in holes) {\n                            if (this.x >= Number(holes[_hole][0]) && this.x <= Number(holes[_hole][holes[_hole].length - 1])) {\n                                if (np[0].length >= holes[_hole].length) {\n                                    return false;\n                                }\n                            }\n                        }\n                    }\n                }\n                return true;\n            }\n        }]);\n\n        return Piece;\n    }();\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9FUzYvUGllY2UuanM/MzNlNSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5leHBvcnQgY29uc3QgUGllY2UgPSAoZnVuY3Rpb24oKSB7XG4gICAgbGV0IG5leHRQaWVjZSA9IGZhbHNlO1xuICAgIGNvbnN0IG5leHRTaGFwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuZXh0LXBpZWNlJyk7XG4gICAgbGV0IHBpZWNlcyA9IFtdO1xuICAgIGNsYXNzIFNoYXBlIHtcbiAgICAgICAgc3RhdGljIEkoKSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgWzAsMV0sXG4gICAgICAgICAgICAgICAgICAgIFswLDFdLFxuICAgICAgICAgICAgICAgICAgICBbMCwxXSxcbiAgICAgICAgICAgICAgICAgICAgWzAsMV1cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgWzAsMCwwLDBdLFxuICAgICAgICAgICAgICAgICAgICBbMSwxLDEsMV1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGljIEooKSB7XG4gICAgICAgICAgICByZXR1cm5bXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBbMCwxXSxcbiAgICAgICAgICAgICAgICAgICAgWzAsMV0sXG4gICAgICAgICAgICAgICAgICAgIFsxLDFdXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIFsxLDAsMF0sXG4gICAgICAgICAgICAgICAgICAgIFsxLDEsMV1cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgWzAsMSwxXSxcbiAgICAgICAgICAgICAgICAgICAgWzAsMSwwXSxcbiAgICAgICAgICAgICAgICAgICAgWzAsMSwwXVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBbMSwxLDFdLFxuICAgICAgICAgICAgICAgICAgICBbMCwwLDFdXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRpYyBMKCkge1xuICAgICAgICAgICAgcmV0dXJuW1xuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgWzEsMF0sXG4gICAgICAgICAgICAgICAgICAgIFsxLDBdLFxuICAgICAgICAgICAgICAgICAgICBbMSwxXVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBbMSwxLDFdLFxuICAgICAgICAgICAgICAgICAgICBbMSwwLDBdXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIFswLDEsMV0sXG4gICAgICAgICAgICAgICAgICAgIFswLDAsMV0sXG4gICAgICAgICAgICAgICAgICAgIFswLDAsMV1cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgWzAsMCwxXSxcbiAgICAgICAgICAgICAgICAgICAgWzEsMSwxXVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0aWMgTygpIHtcbiAgICAgICAgICAgIHJldHVybltcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIFsxLDFdLFxuICAgICAgICAgICAgICAgICAgICBbMSwxXVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0aWMgUygpIHtcbiAgICAgICAgICAgIHJldHVybltcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIFswLDEsMV0sXG4gICAgICAgICAgICAgICAgICAgIFsxLDEsMF1cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgWzAsMSwwXSxcbiAgICAgICAgICAgICAgICAgICAgWzAsMSwxXSxcbiAgICAgICAgICAgICAgICAgICAgWzAsMCwxXVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBbMCwwLDBdLFxuICAgICAgICAgICAgICAgICAgICBbMCwxLDFdLFxuICAgICAgICAgICAgICAgICAgICBbMSwxLDBdXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIFsxLDBdLFxuICAgICAgICAgICAgICAgICAgICBbMSwxXSxcbiAgICAgICAgICAgICAgICAgICAgWzAsMV1cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRpYyBUKCkge1xuICAgICAgICAgICAgcmV0dXJuW1xuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgWzEsMSwxXSxcbiAgICAgICAgICAgICAgICAgICAgWzAsMSwwXVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBbMCwwLDFdLFxuICAgICAgICAgICAgICAgICAgICBbMCwxLDFdLFxuICAgICAgICAgICAgICAgICAgICBbMCwwLDFdXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIFswLDAsMF0sXG4gICAgICAgICAgICAgICAgICAgIFswLDEsMF0sXG4gICAgICAgICAgICAgICAgICAgIFsxLDEsMV1cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgWzEsMF0sXG4gICAgICAgICAgICAgICAgICAgIFsxLDFdLFxuICAgICAgICAgICAgICAgICAgICBbMSwwXVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0aWMgWigpIHtcbiAgICAgICAgICAgIHJldHVybltcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIFsxLDEsMF0sXG4gICAgICAgICAgICAgICAgICAgIFswLDEsMV1cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgWzAsMCwxXSxcbiAgICAgICAgICAgICAgICAgICAgWzAsMSwxXSxcbiAgICAgICAgICAgICAgICAgICAgWzAsMSwwXVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBbMCwwLDBdLFxuICAgICAgICAgICAgICAgICAgICBbMSwxLDBdLFxuICAgICAgICAgICAgICAgICAgICBbMCwxLDFdXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIFswLDFdLFxuICAgICAgICAgICAgICAgICAgICBbMSwxXSxcbiAgICAgICAgICAgICAgICAgICAgWzEsMF1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNsYXNzIFBpZWNlIHtcbiAgICAgICAgY29uc3RydWN0b3IodXBkYXRlQm9hcmQpIHtcbiAgICAgICAgICAgIHRoaXMudWIgPSB1cGRhdGVCb2FyZDtcbiAgICAgICAgICAgIHRoaXMuYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3RhcnQtZ2FtZScpO1xuICAgICAgICAgICAgcGllY2VzID0gW1xuICAgICAgICAgICAgICAgIHtzaW1iOiAnSScsIHNoYXBlOiBTaGFwZS5JKCksIGNvbG9yOiB0aGlzLnViLmRtLmNvbG9ySX0sXG4gICAgICAgICAgICAgICAge3NpbWI6ICdKJywgc2hhcGU6IFNoYXBlLkooKSwgY29sb3I6IHRoaXMudWIuZG0uY29sb3JKfSxcbiAgICAgICAgICAgICAgICB7c2ltYjogJ0wnLCBzaGFwZTogU2hhcGUuTCgpLCBjb2xvcjogdGhpcy51Yi5kbS5jb2xvckx9LFxuICAgICAgICAgICAgICAgIHtzaW1iOiAnTycsIHNoYXBlOiBTaGFwZS5PKCksIGNvbG9yOiB0aGlzLnViLmRtLmNvbG9yT30sXG4gICAgICAgICAgICAgICAge3NpbWI6ICdTJywgc2hhcGU6IFNoYXBlLlMoKSwgY29sb3I6IHRoaXMudWIuZG0uY29sb3JTfSxcbiAgICAgICAgICAgICAgICB7c2ltYjogJ1QnLCBzaGFwZTogU2hhcGUuVCgpLCBjb2xvcjogdGhpcy51Yi5kbS5jb2xvclR9LFxuICAgICAgICAgICAgICAgIHtzaW1iOiAnWicsIHNoYXBlOiBTaGFwZS5aKCksIGNvbG9yOiB0aGlzLnViLmRtLmNvbG9yWn1cbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cblxuICAgICAgICBpbml0UGllY2UoKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQaWVjZSA9IG5leHRQaWVjZSA/IG5leHRQaWVjZSA6IHBpZWNlc1tNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAocGllY2VzLmxlbmd0aC0xKSldO1xuICAgICAgICAgICAgbmV4dFBpZWNlID0gcGllY2VzW01hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIChwaWVjZXMubGVuZ3RoLTEpKV07XG4gICAgICAgICAgICB0aGlzLnNoYXBlID0gdGhpcy5jdXJyZW50UGllY2Uuc2hhcGVbMF07XG4gICAgICAgICAgICB0aGlzLnggPSBNYXRoLmNlaWwoKHRoaXMudWIuZG0uY2FudmFzQ29sdW1ucy10aGlzLnNoYXBlWzBdLmxlbmd0aCkvMik7XG4gICAgICAgICAgICB0aGlzLnkgPSAtdGhpcy5zaGFwZS5sZW5ndGg7XG4gICAgICAgICAgICB0aGlzLmNvbG9yID0gdGhpcy5jdXJyZW50UGllY2UuY29sb3I7XG4gICAgICAgICAgICB0aGlzLnJvdGF0aW9uID0gMDtcbiAgICAgICAgICAgIG5leHRTaGFwZS5zcmMgPSAnaW1nLycgKyBuZXh0UGllY2Uuc2ltYiArICcucG5nJztcbiAgICAgICAgfVxuXG4gICAgICAgIGRyYXdQaWVjZSgpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGR5ID0gMDsgZHkgPCB0aGlzLnNoYXBlLmxlbmd0aDsgZHkrKykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGR4ID0gMDsgZHggPCB0aGlzLnNoYXBlW2R5XS5sZW5ndGg7IGR4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hhcGVbZHldW2R4XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51Yi5kcmF3U3F1YXJlKHRoaXMueCtkeCx0aGlzLnkrZHksdGhpcy5jb2xvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb2xsaXNpb25XYWxsUmlnaHQoKSB7XG4gICAgICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMuc2hhcGUubGVuZ3RoOyB5KyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMuc2hhcGVbeV0ubGVuZ3RoOyB4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hhcGVbeV1beF0gJiYgKHRoaXMueCt4ID49IHRoaXMudWIuZG0uY2FudmFzQ29sdW1ucy0xIHx8ICh0aGlzLnViLmJvYXJkW3RoaXMueSt5XSAmJiB0aGlzLnViLmJvYXJkW3RoaXMueSt5XVt0aGlzLngreCsxXSAhPT0gdGhpcy51Yi5kbS5kZWZCZykpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbGxpc2lvbldhbGxMZWZ0KCkge1xuICAgICAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCB0aGlzLnNoYXBlLmxlbmd0aDsgeSsrKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLnNoYXBlW3ldLmxlbmd0aDsgeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNoYXBlW3ldW3hdICYmICh0aGlzLngreCA8PSAwIHx8ICh0aGlzLnViLmJvYXJkW3RoaXMueSt5XSAmJiB0aGlzLnViLmJvYXJkW3RoaXMueSt5XVt0aGlzLngreC0xXSAhPT0gdGhpcy51Yi5kbS5kZWZCZykpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbGxpc2lvbkJsb2NrKCkge1xuICAgICAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCB0aGlzLnNoYXBlLmxlbmd0aDsgeSsrKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLnNoYXBlW3ldLmxlbmd0aDsgeCsrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNoYXBlW3ldW3hdKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoKHRoaXMudWIuYm9hcmRbdGhpcy55K3krMV0gJiYgdGhpcy51Yi5ib2FyZFt0aGlzLnkreSsxXVt0aGlzLngreF0gIT09IHRoaXMudWIuZG0uZGVmQmcpIHx8IHRoaXMueSt5KzEgPj0gdGhpcy51Yi5kbS5jYW52YXNMaW5lcyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnkgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51Yi5kbS5nYW1lT3ZlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYnV0dG9uID0gdGhpcy5icztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzb2NrZXQgPSBpby5jb25uZWN0KCdodHRwOi8vbG9jYWxob3N0OjE4MTgnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXQub24oJ2xvd2VyLXBvaW50JywgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi51Yi5kbS5wb2ludHMgPj0gZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JtRGF0YSA9IGBubD0ke3NlbGYudWIuZG0ucG9pbnRzfWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIub3BlbigncG9zdCcsICcvYWxsb3ctc2lnbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvc3VibWl0LW5hbWUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3IgYWxsb3cgc2lnbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhoci5zZW5kKGZvcm1EYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudWIuZG0uYWN0aXZlQnV0dG9uID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gYFlPVSBBUkUgSU4gVEhFIFRPUCBURU4hPGJyPndhaXQgYSBzZWMgdG8gaW5zZXJ0IHlvdXIgbmFtZWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXQuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi51Yi5kbS5hY3RpdmVCdXR0b24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9IGB5b3UgaGF2ZSBkb25lICR7c2VsZi51Yi5kbS5wb2ludHN9IGxpbmVzIDxicj4gQ2xpY2sgdG8gcGxheSBhZ2FpbmA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnN0eWxlLmZvbnRTaXplID0gJzE1cHgnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uc3R5bGUucGFkZGluZ1RvcCA9ICc0OHB4JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnN0eWxlLmhlaWdodCA9ICc4MnB4JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldC5lbWl0KCdhc2stbG93ZXItcG9pbnQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51Yi5kcmF3Qm9hcmQodGhpcy54LCB0aGlzLnksIHRoaXMuY29sb3IsIHRoaXMuc2hhcGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51Yi5jb3VudExpbmVzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRQaWVjZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjYW5Sb3RhdGUoKSB7XG4gICAgICAgICAgICBjb25zdCByID0gdGhpcy5yb3RhdGlvbiA8IHRoaXMuY3VycmVudFBpZWNlLnNoYXBlLmxlbmd0aC0xID8gdGhpcy5yb3RhdGlvbiArIDE6IDA7XG4gICAgICAgICAgICBjb25zdCBucCA9IHRoaXMuY3VycmVudFBpZWNlLnNoYXBlW3JdO1xuICAgICAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCB0aGlzLnNoYXBlLmxlbmd0aDsgeSsrKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLnNoYXBlW3ldLmxlbmd0aDsgeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmUgPSB0aGlzLnViLmJvYXJkW3RoaXMueSt5XTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaG9sZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGhvbGUgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgeiBpbiBsaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluZVt6XS50b1N0cmluZygpID09PSB0aGlzLnViLmRtLmRlZkJnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9sZS5wdXNoKE51bWJlcigrK3opKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeiA9PT0gbGluZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9sZXMucHVzaChob2xlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9sZSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhvbGUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob2xlcy5wdXNoKGhvbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBob2xlID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaG9sZSBpbiBob2xlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMueCA+PSBOdW1iZXIoaG9sZXNbaG9sZV1bMF0pICYmIHRoaXMueCA8PSBOdW1iZXIoaG9sZXNbaG9sZV1baG9sZXNbaG9sZV0ubGVuZ3RoLTFdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChucFswXS5sZW5ndGggPj0gaG9sZXNbaG9sZV0ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gIFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxufSkoKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBFUzYvUGllY2UuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBTUE7QUFZQTtBQWxCQTtBQUFBO0FBQUE7QUFxQkE7QUFvQkE7QUF6Q0E7QUFBQTtBQUFBO0FBNENBO0FBb0JBO0FBaEVBO0FBQUE7QUFBQTtBQW1FQTtBQU1BO0FBekVBO0FBQUE7QUFBQTtBQTRFQTtBQXFCQTtBQWpHQTtBQUFBO0FBQUE7QUFvR0E7QUFxQkE7QUF6SEE7QUFBQTtBQUFBO0FBNEhBO0FBcUJBO0FBakpBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFtSkE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBZEE7QUFBQTtBQUFBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXhCQTtBQUFBO0FBQUE7QUEyQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWxDQTtBQUFBO0FBQUE7QUFxQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBN0NBO0FBQUE7QUFBQTtBQWdEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF4REE7QUFBQTtBQUFBO0FBMERBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW5DQTtBQW9DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBL0dBO0FBQUE7QUFBQTtBQWtIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBakpBO0FBQ0E7QUFEQTtBQUFBO0FBbUpBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3\n")},/*!*****************************!*\
  !*** ./ES6/ControlPiece.js ***!
  \*****************************/
/*! dynamic exports provided */
/*! all exports used */
function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ControlPiece = exports.ControlPiece = function () {\n    function ControlPiece(piece) {\n        _classCallCheck(this, ControlPiece);\n\n        this.piece = piece;\n    }\n\n    _createClass(ControlPiece, [{\n        key: 'fall',\n        value: function fall() {\n            if (!this.piece.collisionBlock()) {\n                this.piece.y++;\n                this.piece.ub.drawCanvas();\n                this.piece.drawPiece();\n            }\n        }\n    }, {\n        key: 'rotate',\n        value: function rotate() {\n            if (!this.piece.collisionBlock() && this.piece.canRotate()) {\n                this.piece.rotation = this.piece.rotation < this.piece.currentPiece.shape.length - 1 ? ++this.piece.rotation : 0;\n                this.piece.shape = this.piece.currentPiece.shape[this.piece.rotation];\n                for (var y = 0; y < this.piece.shape.length; y++) {\n                    for (var x = 0; x < this.piece.shape[y].length; x++) {\n                        if (this.piece.x < 0 || this.piece.ub.board[this.piece.y + y] && this.piece.shape[y][x] && this.piece.ub.board[this.piece.y + y][this.piece.x + x] !== this.piece.color && this.piece.ub.board[this.piece.y + y][this.piece.x + x] !== this.piece.ub.dm.defBg) {\n                            this.piece.x++;\n                        } else if (this.piece.x + this.piece.shape[y].length > this.piece.ub.dm.canvasColumns || this.piece.ub.board[this.piece.y + y] && this.piece.shape[y][x] && this.piece.ub.board[this.piece.y + y][this.piece.x + this.piece.shape[y].length - 1] !== this.piece.color && this.piece.ub.board[this.piece.y + y][this.piece.x + this.piece.shape[y].length - 1] !== this.piece.ub.dm.defBg) {\n                            this.piece.x--;\n                        }\n                    }\n                }\n                this.piece.ub.drawCanvas();\n                this.piece.drawPiece();\n            }\n        }\n    }, {\n        key: 'moveLeft',\n        value: function moveLeft() {\n            if (!this.piece.collisionWallLeft()) {\n                this.piece.x--;\n                this.piece.ub.drawCanvas();\n                this.piece.drawPiece();\n            }\n        }\n    }, {\n        key: 'moveRight',\n        value: function moveRight() {\n            if (!this.piece.collisionWallRight()) {\n                this.piece.x++;\n                this.piece.ub.drawCanvas();\n                this.piece.drawPiece();\n            }\n        }\n    }]);\n\n    return ControlPiece;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9FUzYvQ29udHJvbFBpZWNlLmpzPzAxNDgiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuZXhwb3J0IGNsYXNzIENvbnRyb2xQaWVjZSB7XG4gICAgY29uc3RydWN0b3IocGllY2UpIHtcbiAgICAgICAgdGhpcy5waWVjZSA9IHBpZWNlO1xuICAgIH1cblxuICAgIGZhbGwoKSB7XG4gICAgICAgIGlmICghdGhpcy5waWVjZS5jb2xsaXNpb25CbG9jaygpKSB7XG4gICAgICAgICAgICB0aGlzLnBpZWNlLnkrKztcbiAgICAgICAgICAgIHRoaXMucGllY2UudWIuZHJhd0NhbnZhcygpO1xuICAgICAgICAgICAgdGhpcy5waWVjZS5kcmF3UGllY2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJvdGF0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnBpZWNlLmNvbGxpc2lvbkJsb2NrKCkgJiYgdGhpcy5waWVjZS5jYW5Sb3RhdGUoKSkge1xuICAgICAgICAgICAgdGhpcy5waWVjZS5yb3RhdGlvbiA9IHRoaXMucGllY2Uucm90YXRpb24gPCB0aGlzLnBpZWNlLmN1cnJlbnRQaWVjZS5zaGFwZS5sZW5ndGgtMSA/ICsrdGhpcy5waWVjZS5yb3RhdGlvbiA6IDA7XG4gICAgICAgICAgICB0aGlzLnBpZWNlLnNoYXBlID0gdGhpcy5waWVjZS5jdXJyZW50UGllY2Uuc2hhcGVbdGhpcy5waWVjZS5yb3RhdGlvbl07XG4gICAgICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMucGllY2Uuc2hhcGUubGVuZ3RoOyB5KyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMucGllY2Uuc2hhcGVbeV0ubGVuZ3RoOyB4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCh0aGlzLnBpZWNlLnggPCAwKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMucGllY2UudWIuYm9hcmRbdGhpcy5waWVjZS55K3ldICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5waWVjZS5zaGFwZVt5XVt4XSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGllY2UudWIuYm9hcmRbdGhpcy5waWVjZS55K3ldW3RoaXMucGllY2UueCt4XSAhPT0gdGhpcy5waWVjZS5jb2xvciAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGllY2UudWIuYm9hcmRbdGhpcy5waWVjZS55K3ldW3RoaXMucGllY2UueCt4XSAhPT0gdGhpcy5waWVjZS51Yi5kbS5kZWZCZykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGllY2UueCsrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCh0aGlzLnBpZWNlLngrdGhpcy5waWVjZS5zaGFwZVt5XS5sZW5ndGggPiB0aGlzLnBpZWNlLnViLmRtLmNhbnZhc0NvbHVtbnMpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5waWVjZS51Yi5ib2FyZFt0aGlzLnBpZWNlLnkreV0gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBpZWNlLnNoYXBlW3ldW3hdICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5waWVjZS51Yi5ib2FyZFt0aGlzLnBpZWNlLnkreV1bdGhpcy5waWVjZS54K3RoaXMucGllY2Uuc2hhcGVbeV0ubGVuZ3RoLTFdICE9PSB0aGlzLnBpZWNlLmNvbG9yICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5waWVjZS51Yi5ib2FyZFt0aGlzLnBpZWNlLnkreV1bdGhpcy5waWVjZS54K3RoaXMucGllY2Uuc2hhcGVbeV0ubGVuZ3RoLTFdICE9PSB0aGlzLnBpZWNlLnViLmRtLmRlZkJnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5waWVjZS54LS07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBpZWNlLnViLmRyYXdDYW52YXMoKTtcbiAgICAgICAgICAgIHRoaXMucGllY2UuZHJhd1BpZWNlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBtb3ZlTGVmdCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnBpZWNlLmNvbGxpc2lvbldhbGxMZWZ0KCkpIHtcbiAgICAgICAgICAgIHRoaXMucGllY2UueC0tO1xuICAgICAgICAgICAgdGhpcy5waWVjZS51Yi5kcmF3Q2FudmFzKCk7XG4gICAgICAgICAgICB0aGlzLnBpZWNlLmRyYXdQaWVjZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbW92ZVJpZ2h0KCkge1xuICAgICAgICBpZiAoIXRoaXMucGllY2UuY29sbGlzaW9uV2FsbFJpZ2h0KCkpIHtcbiAgICAgICAgICAgIHRoaXMucGllY2UueCsrO1xuICAgICAgICAgICAgdGhpcy5waWVjZS51Yi5kcmF3Q2FudmFzKCk7XG4gICAgICAgICAgICB0aGlzLnBpZWNlLmRyYXdQaWVjZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIEVTNi9Db250cm9sUGllY2UuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4\n")},/*!*********************!*\
  !*** ./ES6/Game.js ***!
  \*********************/
/*! dynamic exports provided */
/*! all exports used */
function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Game = exports.Game = function () {\n    var fast = false;\n    var start = 0;\n    return function () {\n        function _class(controlPiece) {\n            _classCallCheck(this, _class);\n\n            this.cp = controlPiece;\n            this.init();\n        }\n\n        _createClass(_class, [{\n            key: 'fallingShape',\n            value: function fallingShape() {\n                var _this = this;\n\n                if (!this.cp.piece.ub.dm.gameOver) {\n                    var time = fast ? this.cp.piece.ub.dm.fhz : this.cp.piece.ub.dm.shz;\n                    if (start > time) {\n                        this.cp.fall();\n                        start = 0;\n                    } else {\n                        start++;\n                    }\n                    requestAnimationFrame(function () {\n                        _this.fallingShape();\n                    });\n                }\n            }\n        }, {\n            key: 'init',\n            value: function init() {\n                var self = this;\n                document.addEventListener('keydown', function (e) {\n                    switch (e.keyCode) {\n                        case 38:\n                            self.cp.rotate();\n                            break;\n                        case 37:\n                            self.cp.moveLeft();\n                            break;\n                        case 39:\n                            self.cp.moveRight();\n                            break;\n                        case 40:\n                            fast = true;\n                            break;\n                    }\n                });\n\n                document.addEventListener('keyup', function (e) {\n                    switch (e.keyCode) {\n                        case 40:\n                            fast = false;\n                            break;\n                    }\n                });\n\n                this.cp.piece.bs.addEventListener('click', function () {\n                    if (self.cp.piece.ub.dm.activeButton) {\n                        self.cp.piece.ub.dm.points = 0;\n                        self.cp.piece.bs.style.display = 'none';\n                        self.cp.piece.ub.dm.gameOver = false;\n                        self.cp.piece.ub.initBoard();\n                        self.cp.piece.initPiece();\n                        self.fallingShape();\n                    }\n                });\n            }\n        }]);\n\n        return _class;\n    }();\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9FUzYvR2FtZS5qcz9kZjhkIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbmV4cG9ydCBjb25zdCBHYW1lID0gKGZ1bmN0aW9uKCkge1xuICAgIGxldCBmYXN0ID0gZmFsc2U7XG4gICAgbGV0IHN0YXJ0ID0gMDtcbiAgICByZXR1cm4gY2xhc3Mge1xuICAgICAgICBjb25zdHJ1Y3Rvcihjb250cm9sUGllY2UpIHtcbiAgICAgICAgICAgIHRoaXMuY3AgPSBjb250cm9sUGllY2U7XG4gICAgICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZhbGxpbmdTaGFwZSgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5jcC5waWVjZS51Yi5kbS5nYW1lT3Zlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWUgPSBmYXN0ID8gdGhpcy5jcC5waWVjZS51Yi5kbS5maHogOiB0aGlzLmNwLnBpZWNlLnViLmRtLnNoejtcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnQgPiB0aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3AuZmFsbCgpO1xuICAgICAgICAgICAgICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHsgdGhpcy5mYWxsaW5nU2hhcGUoKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpbml0KCkge1xuICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGUua2V5Q29kZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM4OlxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jcC5yb3RhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM3OlxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jcC5tb3ZlTGVmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzk6XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNwLm1vdmVSaWdodCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBmYXN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChlLmtleUNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmNwLnBpZWNlLmJzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLmNwLnBpZWNlLnViLmRtLmFjdGl2ZUJ1dHRvbikge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmNwLnBpZWNlLnViLmRtLnBvaW50cyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY3AucGllY2UuYnMuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jcC5waWVjZS51Yi5kbS5nYW1lT3ZlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmNwLnBpZWNlLnViLmluaXRCb2FyZCgpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmNwLnBpZWNlLmluaXRQaWVjZSgpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmZhbGxpbmdTaGFwZSgpOyBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gRVM2L0dhbWUuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQUFBO0FBQUE7QUFNQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFqQkE7QUFBQTtBQUFBO0FBb0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVpBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBeERBO0FBQ0E7QUFEQTtBQUFBO0FBMERBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///5\n")}]);